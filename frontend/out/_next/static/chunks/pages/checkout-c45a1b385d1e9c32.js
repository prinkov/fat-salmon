(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{2013:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(5664)}])},4174:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(5893);function r(e){var t=e.width,n=e.height,r=e.fill;return(0,i.jsx)("svg",{width:t,height:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.56223 0.565186H12.3244C12.6698 0.565186 13.0149 0.616186 13.3756 0.785248C13.8079 0.987811 14.0372 1.30725 14.1978 1.54344C14.2103 1.56181 14.222 1.58075 14.2328 1.60012C14.4217 1.93812 14.519 2.30306 14.519 2.69562C14.519 3.06862 14.4307 3.475 14.2328 3.82919C14.2309 3.83256 14.229 3.83594 14.2271 3.83931L8.05948 14.4915C7.92347 14.7264 7.67314 14.8705 7.4028 14.8696C7.13246 14.8686 6.88312 14.7227 6.74879 14.4868L0.694445 3.85731C0.692704 3.8545 0.690963 3.85156 0.689223 3.84869C0.550663 3.61912 0.336391 3.26412 0.298907 2.80594C0.264469 2.38469 0.358645 1.96256 0.569188 1.59656C0.779731 1.2305 1.0967 0.937873 1.47794 0.758748C1.88672 0.566686 2.30096 0.565186 2.56223 0.565186ZM6.64871 2.08694H2.56223C2.29375 2.08694 2.19069 2.10356 2.11864 2.13744C2.019 2.18419 1.93533 2.26106 1.87938 2.35837C1.82343 2.45569 1.79813 2.56844 1.80733 2.68125C1.81262 2.746 1.83885 2.82 1.99357 3.07656C1.9968 3.08194 1.99997 3.08737 2.00308 3.09281L6.64871 11.249V2.08694ZM8.16223 2.08694V11.2893L12.9155 3.07987C12.9691 2.98187 13.0055 2.84025 13.0055 2.69562C13.0055 2.57831 12.9813 2.47644 12.9272 2.37137C12.8705 2.28937 12.8359 2.24594 12.807 2.21619C12.7822 2.19075 12.7631 2.17712 12.7361 2.1645C12.6237 2.11181 12.5087 2.08694 12.3244 2.08694H8.16223Z",fill:r})})}},5664:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var i=n(7568),r=n(828),c=n(655),s=n(5893),a=n(2734),o=n(7357),u=n(155),l=n(5861),h=n(3946),d=n(3321),f=n(9008),p=n.n(f),C=n(7294),x=n(1023),g=n(5675),w=n.n(g),j=n(4174),m=n(1163),v=n(3096),Z=n(4242),y=n(3009);function _(){var e=(0,r.Z)((0,v.dG)(),1)[0],t=(0,a.Z)(),n=(0,m.useRouter)(),f=(0,Z.$M)(e).sender,g=(0,v.EK)(),_=(0,C.useState)(),b=_[0],k=_[1],E=(0,C.useState)([]),N=E[0],T=E[1];return(0,C.useEffect)((function(){T(JSON.parse(localStorage.getItem("cart")||"[]"))}),[]),(0,C.useEffect)((function(){f&&!b&&y.Mf.create("testnet",f).then((function(e){k(e)}))}),[f]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(p(),{children:[(0,s.jsx)("title",{children:"Durger King 2.0 - Checkout"}),(0,s.jsx)("meta",{name:"description",content:"Durger King reborn - pay with TON"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)(o.Z,{p:2,pb:t.spacing(8),children:[(0,s.jsx)(u.Z,{}),(0,s.jsxs)(l.Z,{variant:"h5",gutterBottom:!0,children:[(0,s.jsx)(h.Z,{onClick:function(){n.back()},children:(0,s.jsx)(x.Z,{})}),"Checkout"]}),N.map((function(e){return(0,s.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,s.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},gap:2,children:[(0,s.jsx)(w(),{src:"/".concat(e.image),width:96,height:96,alt:e.name}),(0,s.jsxs)(l.Z,{variant:"h6",children:[e.name," x ",e.quantity]})]}),(0,s.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},gap:1,children:[(0,s.jsxs)(l.Z,{variant:"h6",children:[Math.round(e.price*e.quantity*100)/100," "]}),(0,s.jsx)(j.Z,{width:t.spacing(3),height:t.spacing(3),fill:"#0088CC"})]})]},e.name)}))]}),(0,s.jsxs)(d.Z,{variant:"contained",disabled:!f||!b||!g,sx:{position:"fixed",width:"auto",bottom:t.spacing(1),left:t.spacing(1),right:t.spacing(1),height:t.spacing(6),color:"white",display:"flex",flexDirection:"column"},onClick:(0,i.Z)((function(){var e,t,n;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return f&&b&&g?(e=N.reduce((function(e,t){return e+t.price*t.quantity}),0),t=Date.now().toString(),[4,b.getStore("EQD4CTLrsCUn2CFQlIhJtRZl7qJnIc76VW3TbDzVAh3ish-j").requestPurchase({invoiceId:t,amount:e,metadata:"",currency:y.Kt.TON})]):[2];case 1:return n=i.sent(),setTimeout((function(){window.location.href="https://beta.pay.thetonpay.app/i/".concat(n.address)}),1e4),[2]}}))})),children:["Confirm and pay"," ",N.reduce((function(e,t){return e+t.price*t.quantity}),0)," ","TON"]})]})}}},function(e){e.O(0,[180,956,774,888,179],(function(){return t=2013,e(e.s=t);var t}));var t=e.O();_N_E=t}]);